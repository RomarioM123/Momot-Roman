/**
* @file malware.cpp
* Файл реалізації методів класу-спадкоємця
* @author Momot Roman
* @version 1.0
* @date 2020.05.26
*/

#include "malware.h"				/** Підключення файлу malware.h */
#include "program.h"

int CMalware::getTime() const		/** Реалізація геттера часу виконання програми */
{	
	return timeOfWork;				/** Повернення часу виконання програми */
}
int CMalware::getSize() const		/** Реалізація геттера розміру програми */
{
	return size;					/** Повернення розміру програми */
}
int CMalware::getLines() const		/** Реалізація геттера кількості рядків програми */
{
	return amountOfLines;			/** Повернення розміру програми */
}
int CMalware::getIndex() const		/** Реалізація геттера індексу програми */
{
	return index;					/** Повернення розміру програми */
}
bool CMalware::getInternet()const	/** Реалізація геттера інтернету */
{
	return useInternet;				/** Повернення змінної інтернету */
}
string CMalware::getName()const		/** Реалізація геттера назви програми */
{
	return name;					/** Повернення назви програми */
}

string CMalware::getInfo() const	/** Реалізація функції отримання інформації */
{
	stringstream temp;				/** Оголошення змінної stringstream */
	temp.setf(ios::left);
	
	temp << setw(10) << timeOfWork << setw(12) << size	/** Отримання рядка з даними */
		<< setw(9) << amountOfLines << setw(12) << boolalpha << useInternet
		<< setw(11) << index << setw(20) << name 
		<< setw(14) << type;

	return temp.str();				/** Повернення рядка з інформацією */
}
void CMalware::enter(istream& data)	/** Реалізація перевантаженого оператора вводу */
{
	data >> index >> timeOfWork >> type >> size >> amountOfLines >> useInternet >> name;	/** Введення даних у об'єкт типу istream */
}

CMalware::CMalware(bool internet, int time, int size, int lines, int index, string name, string type) : CProgram(internet, time, size, lines, index, name), type(type) {}	/** Реалізація конструктора з параметрами */
CMalware::CMalware() : CProgram(), type("Trojan") {}	/** Реалізація конструктора за замовчуванням */
CMalware::CMalware(const CMalware& other) : CProgram(other), type(other.type) {}			/** Реалізація конструктора копіювання */
CMalware::~CMalware() {}							/** Реалізація деструктора */

void* CMalware::operator new(size_t value)
{
	cout << "Вызов оператора new для класса CMalware" << endl;
	return ::operator new(value);
}
void* CMalware::operator new[](size_t value)
{
	cout << "Вызов оператора new[] для класса CMalware" << endl;
	return ::operator new[](value);
}
void CMalware::operator delete(void* pointer)
{
	cout << "Вызов оператора delete для класса CMalware" << endl;
	::operator delete(pointer);
}
void CMalware::operator delete[](void* pointer)
{
	cout << "Вызов оператора delete[] для класса CMalware" << endl;
	::operator delete(pointer);
}